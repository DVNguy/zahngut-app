<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Zahngut</title>
  <link rel="stylesheet" href="/admin-styles.css">
</head>
<body>
  <div id="admin-app">
    <header class="admin-header">
      <div class="header-content">
        <h1>ğŸ¦· Zahngut Admin</h1>
        <div class="header-actions">
          <button class="btn-secondary" id="previewBtn">ğŸ‘ï¸ Vorschau</button>
          <button class="btn-danger" id="logoutBtn">Abmelden</button>
        </div>
      </div>
    </header>

    <div class="admin-container">
      <nav class="admin-sidebar">
        <button class="tab-btn active" data-tab="grunddaten">ğŸ“‹ Grunddaten</button>
        <button class="tab-btn" data-tab="kategorien">ğŸ·ï¸ Kategorien</button>
        <button class="tab-btn" data-tab="news">ğŸ“° Aktuelles</button>
        <button class="tab-btn" data-tab="behandlungen">ğŸ¦· Behandlungen</button>
        <button class="tab-btn" data-tab="videos">ğŸ¥ Videos</button>
        <button class="tab-btn" data-tab="nachsorge">ğŸ“ Nachsorge</button>
        <button class="tab-btn" data-tab="oeffnungszeiten">ğŸ• Ã–ffnungszeiten</button>
        <button class="tab-btn" data-tab="notfall">ğŸš¨ Notfall</button>
      </nav>

      <main class="admin-content">
        <div id="notification" class="notification"></div>

        <!-- Tab: Grunddaten -->
        <div class="tab-content active" id="grunddaten-tab">
          <h2>Praxis-Grunddaten</h2>
          <form id="praxisForm" class="admin-form">
            <div class="form-group">
              <label>Praxis-Name</label>
              <input type="text" id="praxisName" required />
            </div>
            <div class="form-group">
              <label>Slogan</label>
              <input type="text" id="praxisSlogan" required />
            </div>
            <div class="form-group">
              <label>Telefon</label>
              <input type="tel" id="praxisTelefon" required />
            </div>
            <div class="form-group">
              <label>Notdienst</label>
              <input type="tel" id="praxisNotdienst" required />
            </div>
            <div class="form-group">
              <label>E-Mail</label>
              <input type="email" id="praxisEmail" required />
            </div>
            <div class="form-group">
              <label>Doctolib URL</label>
              <input type="url" id="praxisDoctolib" />
            </div>
            <div class="form-group">
              <label>StraÃŸe</label>
              <input type="text" id="praxisStreet" required />
            </div>
            <div class="form-group">
              <label>PLZ</label>
              <input type="text" id="praxisZip" required />
            </div>
            <div class="form-group">
              <label>Ort</label>
              <input type="text" id="praxisCity" required />
            </div>
            <button type="submit" class="btn-primary">ğŸ’¾ Speichern</button>
          </form>
        </div>

        <!-- Tab: News/Aktuelles -->
        <div class="tab-content" id="news-tab">
          <div class="tab-header">
            <h2>Aktuelles verwalten</h2>
            <button class="btn-primary" id="addNewsBtn">â• Neue Meldung</button>
          </div>

          <div id="newsModal" class="modal">
            <div class="modal-content">
              <div class="modal-header">
                <h3 id="newsModalTitle">Neue Meldung erstellen</h3>
                <button class="close-btn" id="closeNewsModal">&times;</button>
              </div>
              <form id="newsForm" class="admin-form">
                <input type="hidden" id="newsId" />
                <div class="form-group">
                  <label>Titel</label>
                  <input type="text" id="newsTitle" required />
                </div>
                <div class="form-group">
                  <label>Inhalt</label>
                  <textarea id="newsContent" rows="6" required></textarea>
                </div>
                <div class="form-group">
                  <label>Bild URL (optional)</label>
                  <input type="url" id="newsImageUrl" placeholder="https://..." />
                  <small>Link zu einem Bild (z.B. von Pexels oder Unsplash)</small>
                </div>
                <div class="form-group">
                  <label>Video URL (optional)</label>
                  <input type="url" id="newsVideoUrl" placeholder="https://..." />
                  <small>Link zu einem Video (MP4 Format)</small>
                </div>
                <div class="form-group">
                  <label>Reihenfolge</label>
                  <input type="number" id="newsDisplayOrder" value="0" />
                  <small>HÃ¶here Zahlen werden weiter oben angezeigt</small>
                </div>
                <div class="form-group">
                  <label class="checkbox-label">
                    <input type="checkbox" id="newsPublished" />
                    <span>VerÃ¶ffentlicht (sichtbar fÃ¼r Patienten)</span>
                  </label>
                </div>
                <div class="form-actions">
                  <button type="button" class="btn-secondary" id="cancelNewsBtn">Abbrechen</button>
                  <button type="submit" class="btn-primary">ğŸ’¾ Speichern</button>
                </div>
              </form>
            </div>
          </div>

          <div id="newsList" class="items-list">
            <!-- News items will be loaded here -->
          </div>
        </div>

        <!-- Tab: Kategorien -->
        <div class="tab-content" id="kategorien-tab">
          <h2>Kategorien anpassen</h2>
          <p style="color: #64748B; margin-bottom: 24px;">Hier kannst du die Ãœberschriften und Icons der Hauptkategorien anpassen.</p>

          <form id="categoriesForm" class="admin-form">
            <div class="category-section">
              <h3>Behandlungen</h3>
              <div class="category-grid">
                <div class="form-group">
                  <label>Kategorie-Name</label>
                  <input type="text" id="categoryBehandlungenName" required placeholder="z.B. Behandlungen" />
                </div>
                <div class="form-group">
                  <label>Icon (Emoji oder URL)</label>
                  <input type="text" id="categoryBehandlungenIcon" required placeholder="ğŸ¦· oder Bild-URL" />
                </div>
                <div class="form-group">
                  <label>Beschreibung</label>
                  <input type="text" id="categoryBehandlungenDesc" placeholder="Kurze Beschreibung" />
                </div>
                <div class="form-group">
                  <label>Icon-Bild hochladen</label>
                  <input type="file" id="categoryBehandlungenIconFile" accept="image/*" class="file-input" />
                  <div id="categoryBehandlungenIconPreview" class="icon-preview"></div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 1</label>
                  <div class="color-input-wrapper">
                    <input type="color" id="categoryBehandlungenBgColor1" value="#4F46E5" />
                    <span class="color-value">#4F46E5</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryBehandlungenBgColor1" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 2 (Gradient)</label>
                  <label class="checkbox-inline" style="margin-bottom: 8px;">
                    <input type="checkbox" id="categoryBehandlungenUseGradient" checked />
                    <span>Gradient verwenden</span>
                  </label>
                  <div class="color-input-wrapper" id="categoryBehandlungenColor2Wrapper">
                    <input type="color" id="categoryBehandlungenBgColor2" value="#7C3AED" />
                    <span class="color-value">#7C3AED</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryBehandlungenBgColor2" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
              </div>
              <div class="color-preview" id="categoryBehandlungenColorPreview">
                ğŸ¦·
              </div>
            </div>

            <div class="category-section">
              <h3>Videos</h3>
              <div class="category-grid">
                <div class="form-group">
                  <label>Kategorie-Name</label>
                  <input type="text" id="categoryVideosName" required placeholder="z.B. Videos" />
                </div>
                <div class="form-group">
                  <label>Icon (Emoji oder URL)</label>
                  <input type="text" id="categoryVideosIcon" required placeholder="ğŸ¥ oder Bild-URL" />
                </div>
                <div class="form-group">
                  <label>Beschreibung</label>
                  <input type="text" id="categoryVideosDesc" placeholder="Kurze Beschreibung" />
                </div>
                <div class="form-group">
                  <label>Icon-Bild hochladen</label>
                  <input type="file" id="categoryVideosIconFile" accept="image/*" class="file-input" />
                  <div id="categoryVideosIconPreview" class="icon-preview"></div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 1</label>
                  <div class="color-input-wrapper">
                    <input type="color" id="categoryVideosBgColor1" value="#EC4899" />
                    <span class="color-value">#EC4899</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryVideosBgColor1" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 2 (Gradient)</label>
                  <label class="checkbox-inline" style="margin-bottom: 8px;">
                    <input type="checkbox" id="categoryVideosUseGradient" checked />
                    <span>Gradient verwenden</span>
                  </label>
                  <div class="color-input-wrapper" id="categoryVideosColor2Wrapper">
                    <input type="color" id="categoryVideosBgColor2" value="#F43F5E" />
                    <span class="color-value">#F43F5E</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryVideosBgColor2" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
              </div>
              <div class="color-preview" id="categoryVideosColorPreview">
                ğŸ¥
              </div>
            </div>

            <div class="category-section">
              <h3>Aktuelles</h3>
              <div class="category-grid">
                <div class="form-group">
                  <label>Kategorie-Name</label>
                  <input type="text" id="categoryAktuellesName" required placeholder="z.B. Aktuelles" />
                </div>
                <div class="form-group">
                  <label>Icon (Emoji oder URL)</label>
                  <input type="text" id="categoryAktuellesIcon" required placeholder="ğŸ“° oder Bild-URL" />
                </div>
                <div class="form-group">
                  <label>Beschreibung</label>
                  <input type="text" id="categoryAktuellesDesc" placeholder="Kurze Beschreibung" />
                </div>
                <div class="form-group">
                  <label>Icon-Bild hochladen</label>
                  <input type="file" id="categoryAktuellesIconFile" accept="image/*" class="file-input" />
                  <div id="categoryAktuellesIconPreview" class="icon-preview"></div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 1</label>
                  <div class="color-input-wrapper">
                    <input type="color" id="categoryAktuellesBgColor1" value="#10B981" />
                    <span class="color-value">#10B981</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryAktuellesBgColor1" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 2 (Gradient)</label>
                  <label class="checkbox-inline" style="margin-bottom: 8px;">
                    <input type="checkbox" id="categoryAktuellesUseGradient" checked />
                    <span>Gradient verwenden</span>
                  </label>
                  <div class="color-input-wrapper" id="categoryAktuellesColor2Wrapper">
                    <input type="color" id="categoryAktuellesBgColor2" value="#14B8A6" />
                    <span class="color-value">#14B8A6</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryAktuellesBgColor2" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
              </div>
              <div class="color-preview" id="categoryAktuellesColorPreview">
                ğŸ“°
              </div>
            </div>

            <div class="category-section">
              <h3>Nachsorge</h3>
              <div class="category-grid">
                <div class="form-group">
                  <label>Kategorie-Name</label>
                  <input type="text" id="categoryNachsorgeName" required placeholder="z.B. Nachsorge" />
                </div>
                <div class="form-group">
                  <label>Icon (Emoji oder URL)</label>
                  <input type="text" id="categoryNachsorgeIcon" required placeholder="ğŸ“ oder Bild-URL" />
                </div>
                <div class="form-group">
                  <label>Beschreibung</label>
                  <input type="text" id="categoryNachsorgeDesc" placeholder="Kurze Beschreibung" />
                </div>
                <div class="form-group">
                  <label>Icon-Bild hochladen</label>
                  <input type="file" id="categoryNachsorgeIconFile" accept="image/*" class="file-input" />
                  <div id="categoryNachsorgeIconPreview" class="icon-preview"></div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 1</label>
                  <div class="color-input-wrapper">
                    <input type="color" id="categoryNachsorgeBgColor1" value="#F59E0B" />
                    <span class="color-value">#F59E0B</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryNachsorgeBgColor1" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
                <div class="form-group">
                  <label>Hintergrundfarbe 2 (Gradient)</label>
                  <label class="checkbox-inline" style="margin-bottom: 8px;">
                    <input type="checkbox" id="categoryNachsorgeUseGradient" checked />
                    <span>Gradient verwenden</span>
                  </label>
                  <div class="color-input-wrapper" id="categoryNachsorgeColor2Wrapper">
                    <input type="color" id="categoryNachsorgeBgColor2" value="#EF4444" />
                    <span class="color-value">#EF4444</span>
                    <button type="button" class="copy-color-btn" data-color-id="categoryNachsorgeBgColor2" title="Farbe kopieren">ğŸ“‹</button>
                  </div>
                </div>
              </div>
              <div class="color-preview" id="categoryNachsorgeColorPreview">
                ğŸ“
              </div>
            </div>

            <button type="submit" class="btn-primary">Alle Kategorien speichern</button>
          </form>
        </div>

        <!-- Tab: Behandlungen -->
        <div class="tab-content" id="behandlungen-tab">
          <div class="tab-header">
            <h2>Behandlungen</h2>
            <button class="btn-primary" id="addTreatmentBtn">+ Neue Behandlung</button>
          </div>
          <div id="treatmentsList" class="items-list"></div>
        </div>

        <!-- Tab: Videos -->
        <div class="tab-content" id="videos-tab">
          <div class="tab-header">
            <h2>AufklÃ¤rungsvideos</h2>
            <button class="btn-primary" id="addVideoBtn">+ Neues Video</button>
          </div>
          <div id="videosList" class="items-list"></div>
        </div>

        <!-- Tab: Nachsorge -->
        <div class="tab-content" id="nachsorge-tab">
          <div class="tab-header">
            <h2>Nachsorge-Anweisungen</h2>
            <button class="btn-primary" id="addAftercareBtn">+ Neue Nachsorge</button>
          </div>
          <div id="aftercareList" class="items-list"></div>
        </div>

        <!-- Tab: Ã–ffnungszeiten -->
        <div class="tab-content" id="oeffnungszeiten-tab">
          <h2>Ã–ffnungszeiten</h2>
          <form id="hoursForm" class="admin-form">
            <div id="hoursList"></div>
            <button type="submit" class="btn-primary">ğŸ’¾ Speichern</button>
          </form>
        </div>

        <!-- Tab: Notfall -->
        <div class="tab-content" id="notfall-tab">
          <h2>Notfall-Informationen</h2>
          <form id="emergencyForm" class="admin-form">
            <div class="form-group">
              <label>Notdienst-Nummer</label>
              <input type="tel" id="emergencyNumber" required />
            </div>
            <div class="form-group">
              <label>Zeiten</label>
              <input type="text" id="emergencyZeiten" required />
            </div>
            <div class="form-group">
              <label>Erste-Hilfe-Anweisungen (eine pro Zeile)</label>
              <textarea id="emergencyInstructions" rows="6"></textarea>
            </div>
            <div class="form-group">
              <label>Zahn ausgeschlagen - Anleitung</label>
              <textarea id="emergencyZahnAus" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label>Zahn locker - Anleitung</label>
              <textarea id="emergencyZahnLocker" rows="3"></textarea>
            </div>
            <button type="submit" class="btn-primary">ğŸ’¾ Speichern</button>
          </form>
        </div>
      </main>
    </div>
  </div>

  <!-- Modal for Treatment Edit -->
  <div id="treatmentModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="treatmentModalTitle">Behandlung bearbeiten</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="treatmentForm" class="admin-form">
        <input type="hidden" id="treatmentId" />
        <div class="form-group">
          <label>Name</label>
          <input type="text" id="treatmentName" required />
        </div>
        <div class="form-group">
          <label>Kategorie</label>
          <select id="treatmentCategory" required>
            <option value="Zahnerhaltung">Zahnerhaltung</option>
            <option value="Zahnersatz">Zahnersatz</option>
            <option value="Chirurgie">Chirurgie</option>
            <option value="Implantologie">Implantologie</option>
          </select>
        </div>
        <div class="form-group">
          <label>Icon</label>
          <div class="icon-upload-group">
            <input type="text" id="treatmentIcon" placeholder="Emoji eingeben (z.B. ğŸ¦·)" />
            <span style="margin: 0 12px; color: #94A3B8;">oder</span>
            <div class="file-upload-wrapper">
              <input type="file" id="treatmentIconFile" accept="image/png,image/jpeg,image/webp,image/svg+xml" />
              <label for="treatmentIconFile" class="btn-file-upload">ğŸ“ Bild hochladen</label>
              <div class="file-upload-hint">Empfohlen: 128x128px, PNG/JPG/WebP/SVG (max. 5MB)</div>
            </div>
          </div>
          <div id="treatmentIconPreview" class="icon-preview"></div>
        </div>
        <div class="form-group">
          <label>Untertitel</label>
          <input type="text" id="treatmentUntertitel" required />
        </div>
        <div class="form-group">
          <label>Was ist das?</label>
          <textarea id="treatmentWas" rows="4" required></textarea>
        </div>
        <div class="form-group">
          <label>Ablauf (einer pro Zeile)</label>
          <textarea id="treatmentAblauf" rows="4"></textarea>
        </div>
        <div class="form-group">
          <label>Vorteile (einer pro Zeile)</label>
          <textarea id="treatmentVorteile" rows="4"></textarea>
        </div>
        <div class="form-group">
          <label>Dauer</label>
          <input type="text" id="treatmentDauer" required />
        </div>
        <div class="form-group">
          <label>Empfohlen</label>
          <input type="text" id="treatmentEmpfohlen" required />
        </div>
        <div class="form-group">
          <label>
            <input type="checkbox" id="treatmentActive" />
            Aktiv (fÃ¼r Patienten sichtbar)
          </label>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary modal-close">Abbrechen</button>
          <button type="submit" class="btn-primary">Speichern</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal for Video Edit -->
  <div id="videoModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="videoModalTitle">Video bearbeiten</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="videoForm" class="admin-form">
        <input type="hidden" id="videoId" />
        <div class="form-group">
          <label>Titel</label>
          <input type="text" id="videoTitle" required />
        </div>
        <div class="form-group">
          <label>Kategorie</label>
          <select id="videoCategory" required>
            <option value="Zahnerhaltung">Zahnerhaltung</option>
            <option value="Zahnersatz">Zahnersatz</option>
            <option value="Chirurgie">Chirurgie</option>
            <option value="Implantologie">Implantologie</option>
            <option value="Allgemein">Allgemein</option>
          </select>
        </div>
        <div class="form-group">
          <label>Icon</label>
          <div class="icon-upload-group">
            <input type="text" id="videoIcon" placeholder="Emoji eingeben (z.B. ğŸ¥)" />
            <span style="margin: 0 12px; color: #94A3B8;">oder</span>
            <div class="file-upload-wrapper">
              <input type="file" id="videoIconFile" accept="image/png,image/jpeg,image/webp,image/svg+xml" />
              <label for="videoIconFile" class="btn-file-upload">ğŸ“ Bild hochladen</label>
              <div class="file-upload-hint">Empfohlen: 128x128px, PNG/JPG/WebP/SVG (max. 5MB)</div>
            </div>
          </div>
          <div id="videoIconPreview" class="icon-preview"></div>
        </div>
        <div class="form-group">
          <label>YouTube Video ID oder Embed URL</label>
          <input type="text" id="videoUrl" required placeholder="z.B. dQw4w9WgXcQ oder https://www.youtube.com/embed/..." />
          <small>Entweder die YouTube Video ID oder die komplette Embed URL</small>
        </div>
        <div class="form-group">
          <label>Thumbnail URL (optional)</label>
          <input type="url" id="videoThumbnail" placeholder="https://..." />
          <small>Falls leer, wird automatisch YouTube Thumbnail verwendet</small>
        </div>
        <div class="form-group">
          <label>Kurzbeschreibung</label>
          <textarea id="videoDescription" rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label>Dauer (z.B. "5:30")</label>
          <input type="text" id="videoDuration" placeholder="5:30" />
        </div>
        <div class="form-group">
          <label>Reihenfolge</label>
          <input type="number" id="videoOrder" value="0" />
        </div>
        <div class="form-group">
          <label>
            <input type="checkbox" id="videoActive" />
            Aktiv (fÃ¼r Patienten sichtbar)
          </label>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary modal-close">Abbrechen</button>
          <button type="submit" class="btn-primary">Speichern</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal for Aftercare Edit -->
  <div id="aftercareModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="aftercareModalTitle">Nachsorge bearbeiten</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="aftercareForm" class="admin-form">
        <input type="hidden" id="aftercareId" />
        <div class="form-group">
          <label>Behandlung</label>
          <input type="text" id="aftercareName" required />
        </div>
        <div class="form-group">
          <label>Icon</label>
          <div class="icon-upload-group">
            <input type="text" id="aftercareIcon" placeholder="Emoji eingeben (z.B. ğŸ“)" />
            <span style="margin: 0 12px; color: #94A3B8;">oder</span>
            <div class="file-upload-wrapper">
              <input type="file" id="aftercareIconFile" accept="image/png,image/jpeg,image/webp,image/svg+xml" />
              <label for="aftercareIconFile" class="btn-file-upload">ğŸ“ Bild hochladen</label>
              <div class="file-upload-hint">Empfohlen: 128x128px, PNG/JPG/WebP/SVG (max. 5MB)</div>
            </div>
          </div>
          <div id="aftercareIconPreview" class="icon-preview"></div>
        </div>
        <div class="form-group">
          <label>Zeitraum (z.B. "2-4 Wochen")</label>
          <input type="text" id="aftercareTime" required />
        </div>
        <div class="form-group">
          <label>Kurzbeschreibung</label>
          <textarea id="aftercareDescription" rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label>Warnsignale (einer pro Zeile)</label>
          <textarea id="aftercareWarnings" rows="4" placeholder="Starke Schmerzen&#10;Blutungen&#10;Schwellungen"></textarea>
        </div>
        <div class="form-group">
          <label>Phasen (JSON Format)</label>
          <textarea id="aftercarePhases" rows="8" placeholder='[{"title":"Erste 24h","time":"Tag 1","items":["Nicht spÃ¼len","KÃ¼hlen"]},{"title":"Tag 2-7","time":"Woche 1","items":["Vorsichtig putzen"]}]'></textarea>
          <small>JSON Array mit Phasen. Jede Phase hat: title, time, items (Array)</small>
        </div>
        <div class="form-group">
          <label>Reihenfolge</label>
          <input type="number" id="aftercareOrder" value="0" />
        </div>
        <div class="form-group">
          <label>
            <input type="checkbox" id="aftercareActive" />
            Aktiv (fÃ¼r Patienten sichtbar)
          </label>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary modal-close">Abbrechen</button>
          <button type="submit" class="btn-primary">Speichern</button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="/admin-app.js"></script>
</body>
</html>
